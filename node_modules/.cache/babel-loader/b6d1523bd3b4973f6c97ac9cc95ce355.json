{"ast":null,"code":"var _jsxFileName = \"/Users/xinyue/Desktop/wbdv-s21-xinyue-dang-client-react/src/components/widgets/widget-list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport widgetService from '../../services/widget-service';\nimport HeadingWidget from './heading-widget';\nimport ParagraphWidget from './paragraph-widget';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst WidgetList = ({\n  deleteWidget,\n  updateWidget,\n  createWidget,\n  findWidgetsForTopic,\n  widgets = [],\n  clearWidget\n}) => {\n  _s();\n\n  // TODO: move state management to widgets-reducer.js\n  const {\n    topicId\n  } = useParams();\n  const [editingWidget, setEditingWidget] = useState({});\n  useEffect(() => {\n    if (topicId !== 'undefined' && typeof topicId !== 'undefined') {\n      findWidgetsForTopic(topicId);\n    } else {\n      clearWidget();\n    }\n  }, [topicId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      onClick: createWidget,\n      className: \"fas fa-plus float-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Widget List \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: widgets.map(widget => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: [editingWidget.id === widget.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => {\n              updateWidget(widget.id, editingWidget);\n            },\n            className: \"fas fa-check float-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => deleteWidget(widget.id),\n            className: \"fas fa-trash float-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true), editingWidget.id !== widget.id && /*#__PURE__*/_jsxDEV(\"i\", {\n          onClick: () => setEditingWidget(widget),\n          className: \"fas fa-cog float-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }, this), widget.type === 'HEADING' && /*#__PURE__*/_jsxDEV(HeadingWidget, {\n          editing: editingWidget.id === widget.id,\n          widget: widget\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this), widget.type === 'PARAGRAPH' && /*#__PURE__*/_jsxDEV(ParagraphWidget, {\n          editing: editingWidget.id === widget.id,\n          widget: widget\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this)]\n      }, widget.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), JSON.stringify(widgets)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n\n_s(WidgetList, \"nUGjst1/dSvS2sMXAVCpuYMHK2k=\", false, function () {\n  return [useParams];\n});\n\n_c = WidgetList;\n\nconst stpm = state => {\n  return {\n    widgets: state.widgetReducer.widgets\n  };\n};\n\nconst dtpm = dispatch => {\n  return {\n    createWidget: topicId => {\n      widgetService.createWidget(topicId, {\n        title: 'New Widget'\n      }).then(theActualWidget => dispatch({\n        type: 'CREATE_WIDGET',\n        widget: theActualWidget\n      }));\n    },\n    deleteWidget: item => {\n      widgetService.deleteWidget(item._id).then(status => dispatch({\n        type: 'DELETE_WIDGET',\n        widgetToDelete: item\n      }));\n    },\n    updateWidget: widget => widgetService.updateWidget(widget._id, widget).then(status => dispatch({\n      type: 'UPDATE_WIDGET',\n      widgetToUpdate: widget\n    })),\n    findWidgetsForTopic: topicId => widgetService.findWidgetsForTopic(topicId).then(theWidgets => dispatch({\n      type: 'FIND_WIDGETS_FOR_TOPIC',\n      widgets: theWidgets\n    })),\n    clearWidget: () => dispatch({\n      type: 'CLEAR_WIDGET',\n      widgets: []\n    })\n  };\n};\n\nexport default connect(stpm, dtpm)(WidgetList);\n\nvar _c;\n\n$RefreshReg$(_c, \"WidgetList\");","map":{"version":3,"sources":["/Users/xinyue/Desktop/wbdv-s21-xinyue-dang-client-react/src/components/widgets/widget-list.js"],"names":["React","useEffect","useState","connect","useParams","widgetService","HeadingWidget","ParagraphWidget","WidgetList","deleteWidget","updateWidget","createWidget","findWidgetsForTopic","widgets","clearWidget","topicId","editingWidget","setEditingWidget","map","widget","id","type","JSON","stringify","stpm","state","widgetReducer","dtpm","dispatch","title","then","theActualWidget","item","_id","status","widgetToDelete","widgetToUpdate","theWidgets"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport widgetService from '../../services/widget-service'\nimport HeadingWidget from './heading-widget'\nimport ParagraphWidget from './paragraph-widget'\n\nconst WidgetList = ({\n    deleteWidget,\n    updateWidget,\n    createWidget,\n    findWidgetsForTopic,\n    widgets = [],\n    clearWidget,\n}) => {\n    // TODO: move state management to widgets-reducer.js\n    const { topicId } = useParams()\n    const [editingWidget, setEditingWidget] = useState({})\n    useEffect(() => {\n        if (topicId !== 'undefined' && typeof topicId !== 'undefined') {\n            findWidgetsForTopic(topicId)\n        } else {\n            clearWidget()\n        }\n    }, [topicId])\n\n    return (\n        <div>\n            <i onClick={createWidget} className=\"fas fa-plus float-right\"></i>\n            <h4>Widget List </h4>\n            <ul className=\"list-group\">\n                {widgets.map((widget) => (\n                    <li className=\"list-group-item\" key={widget.id}>\n                        {editingWidget.id === widget.id && (\n                            <>\n                                <i\n                                    onClick={() => {\n                                        updateWidget(widget.id, editingWidget)\n                                    }}\n                                    className=\"fas fa-check float-right\"\n                                ></i>\n                                <i\n                                    onClick={() => deleteWidget(widget.id)}\n                                    className=\"fas fa-trash float-right\"\n                                ></i>\n                            </>\n                        )}\n                        {editingWidget.id !== widget.id && (\n                            <i\n                                onClick={() => setEditingWidget(widget)}\n                                className=\"fas fa-cog float-right\"\n                            ></i>\n                        )}\n                        {widget.type === 'HEADING' && (\n                            <HeadingWidget\n                                editing={editingWidget.id === widget.id}\n                                widget={widget}\n                            />\n                        )}\n                        {widget.type === 'PARAGRAPH' && (\n                            <ParagraphWidget\n                                editing={editingWidget.id === widget.id}\n                                widget={widget}\n                            />\n                        )}\n                    </li>\n                ))}\n            </ul>\n            {JSON.stringify(widgets)}\n        </div>\n    )\n}\n\nconst stpm = (state) => {\n    return {\n        widgets: state.widgetReducer.widgets,\n    }\n}\nconst dtpm = (dispatch) => {\n    return {\n        createWidget: (topicId) => {\n            widgetService\n                .createWidget(topicId, { title: 'New Widget' })\n                .then((theActualWidget) =>\n                    dispatch({\n                        type: 'CREATE_WIDGET',\n                        widget: theActualWidget,\n                    })\n                )\n        },\n        deleteWidget: (item) => {\n            widgetService.deleteWidget(item._id).then((status) =>\n                dispatch({\n                    type: 'DELETE_WIDGET',\n                    widgetToDelete: item,\n                })\n            )\n        },\n        updateWidget: (widget) =>\n            widgetService.updateWidget(widget._id, widget).then((status) =>\n                dispatch({\n                    type: 'UPDATE_WIDGET',\n                    widgetToUpdate: widget,\n                })\n            ),\n        findWidgetsForTopic: (topicId) =>\n            widgetService.findWidgetsForTopic(topicId).then((theWidgets) =>\n                dispatch({\n                    type: 'FIND_WIDGETS_FOR_TOPIC',\n                    widgets: theWidgets,\n                })\n            ),\n        clearWidget: () =>\n            dispatch({\n                type: 'CLEAR_WIDGET',\n                widgets: [],\n            }),\n    }\n}\n\nexport default connect(stpm, dtpm)(WidgetList)\n"]},"metadata":{},"sourceType":"module"}